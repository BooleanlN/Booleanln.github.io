---
title: 事件委托
date: 2019-06-24 23:05:14
tags:
- javaScript
---

### 事件委托

##### 事件流

事件流，在DOM当中，事件一共经过三个阶段，分别是捕获阶段、目标执行阶段、冒泡阶段，也就是说事件会从顶层dom一直向下直到目标DOM节点，然后在目标节点执行回调函数，最后经过事件冒泡阶段，事件从下往上溢出

##### 事件委托

事件委托，即利用事件冒泡的原理，将事件绑定在dom节点的父级节点上，并通过事件冒泡，在父级节点将事件捕获，并通过事件的target属性，拿到此时点击dom的dom名称或domId，据此再做出对应的响应。

事件委托在循环绑定事件时可以优化浏览器内存性能，带来更好的用户体验

```js
let ulNode = document.querySelector("ul")
let box = document.querySelector("#box")
ulNode.addEventListener("click", (e) => {
	let tar = e.target
	let tarName = tar.nodeName.toLowerCase()
	console.log('你点击了' + tarName)
	console.log('currenttarget是'+e.currentTarget.nodeName.toLowerCase())
	if (tarName === 'li') {
		box.style.background = 'red'
	}else {
		box.style.background = 'green'
	}
})
```

