---
title: 进程的描述与控制（下篇1）
url: 33.html
id: 33
categories:
  - 基础课程收录
  - 操作系统
date: 2018-04-12 09:44:51
tags:
---

操作系统内核 功能： 1\. 支撑功能：中断处理、时钟管理、原语操作 2. 资源管理功能：进程管理、存储器管理，设备管理 中断处理 什么是中断？ 中断是改变处理器执行指令顺序的一种事件。与CPU芯片内外部硬件电路产生的电信号相对应 为什么需要中断 为了使得cpu能与其他设备并行工作，不需要轮询确定当前的状态，能有效提高cpu的利用率，改善系统性能 中断类型 - 内部中断——由CPU控制单元产生，如除0错误 - 外部中断——由其他硬件设备依照cpu时钟信号随机产生的 - 可屏蔽中断——关中断可被屏蔽的外部中断 - 不可屏蔽中断——硬件故障 响应中断的条件 前提：开中断、每执行一条指令会检测 单重终端执行过程 取指令-》执行指令-》检测是否有中断（若有）-》中断响应-》关中断-》保护现场-》执行中断服务子程序-》恢复现场-》开中断。 嵌套中断可在中断程序过程中，响应中断 如何找到中断子程序的入口地址 中断描述符表：与每一个中断或异常向量相联系，每一个向量在表中有相应的中断或异常处理程序的入口地址。内核在允许中断发生前，必须正确地初始化IDT（lidt） 当中断发生时，cpu根据中断号获取中断向量值，再根据中断描述符表找到子程序地址 时钟管理 两个时钟 1. RTC时钟，CMOS时钟，是一块时钟芯片，靠电池供电，最原始，最底层的时间数据 2. OS时钟，产生于PC机主板的定时/计数芯片，开机时有效，由OS控制 1. PIT可编程间隔定时器 由三部分组成：晶振、计数器、保持寄存器 2. 时钟驱动程序 OS时钟机制 1. 保存当前的日期和时间 2. 维持定时器 Linux时钟 时钟滴答 jiffes保存从时间基准（1970.1.1.0）至今的时钟滴答数 系统调用 操作系统内核中预先定义好的一些模块，它们提提供一条管道让应用程序或一般用户能由此得到核心程序的服务 用户态与内核态 程序在用户空间执行，则为进程的用户态执行 程序在系统核心空间执行，当进程处于具有执行系统核心代码的权力状态时，为内核态执行 系统调用执行过程：